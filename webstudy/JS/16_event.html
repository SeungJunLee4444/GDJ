<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* 
            [이벤트]
            1. 이벤트 타입
             - 이벤트의 종류를 의미
             - 이벤트 객체의 타입 속성으로 확인
             - 주요 이벤트 타입
             (1) click      : 클릭
             (2) dbclick    : 더블클릭
             (3) load       : HTML문서를 모두 읽은 다음에 동작함
             (4) mouseover  : 마우스를 가져다 대면 동작
             (5) mouseout   : 마우스가 나가면 
             (6) keydown    : 키가 내려감(입력 직전)
             (7) keyup      : 키가 올라옴(입력 직후)
             (8) focus      : 포커스를 가짐
             (9) blur       : 포커스를 잃음
             (10) submit    : 서브밋(form 태그의 모든 입력/선택요소를 서버로 보냄)
             (11) onreadystatechange : ajax 응답 점검

             // & on + 타입을 통해, 이벤트 헨들러를 생성해 함수를 처리

            // & 고전 이벤트 모델, 인라인 모델 사용시 이벤트 속성(on + 타입)을 사용
            // & 표준 이벤트 모델 사용시 addEventListener('타입', 함수) 메서드를 사용
        
        */

        /* 
            & 용어 정리
            1. 이벤트 속성(이벤트 리스너)
        
        */

    </script>

    <!-- 1. onload 예시  -->
    <script>
    onload = function() {
        document.getElementById('box').textContent = 'Hello World';
    }
    
    </script>
    <!--box블록을 script아래에 두면 id가 box인 블록을 찾을 수 없음 
    => 자바 스크립트는 기본적으로 위에서 아래로 순차적으로 코드를 읽음

    // => 이런경우 load 이벤트를 이용하면,
    문서 전체를 읽어 box가 스크립트보다 밑에 있어도 읽어서 박스 위치를 파악하기 때문에 정상실행된다

    -->

    <div id="box"></div>

    <!-- 2. 이벤트 대상
        - 이벤트가 동작하는 html 구성요소를 의미함
        - 이벤트 객체의 target 속성으로 확인
    -->

    <!-- & 
    이벤트 대상 => html 태그
    이벤트 리스너 => 태그에 사용되는 함수=헨들러
    이벤트 객체 => 이벤트 함수에 사용되는 매개변수?
    -->

    <!-- 3. 이벤트 리스너(헨들러)
        - 이벤트가 발생하면 동작하는 함수
        - 선언적 함수, 익명 함수 모두 리스너로 등록 가능
        - 이벤트 리스너의 매개변수에는 자동으로 이벤트 객체가 전달됨
        ex) 1번 예시의 function()?
    -->

    <!-- 
        4. 이벤트 객체 
        - 해당 이벤트의 상세 정보를 저장한 객체
        - 이벤트 발생 시 자동으로 생성
        - 이벤트 발생 시 이벤트 리스너에 인수로 자동으로 전달
        ex) ev
     -->

     <button id="btn">버튼</button>
     <script>
        document.getElementById('btn').onclick = function(ev) {
            console.log(ev.type);   // 이벤트 타입 확인(click)
            console.log(ev.target); // 이벤트 대상 확인가능(button)
            console.log(ev);
        }
        // 버튼을 클릭하면, 함수를 실행시켜달라
     </script>

     <!-- &
    (1) 이벤트 리스너(함수)는 대체로 익명함수다
    
    
    -->

     <script>
        /* 
            1. 이벤트 속성
                - 이벤트에 등록시키는 속성
                - 형태 : 'on' + 이벤트 타입
                    ex) onclick, onload
            2. 이벤트 모델(이벤트 처리 방식)
                1) 고전 이벤트 모델(프로퍼티)
                    - 하나의 이벤트는 하나의 이벤트 리스너만 가질 수 있음
                    - 이벤트 등록 시 '이벤트 속성'을 사용
                    
                    - 처리 방식
                        (1) 선언적 함수를 사용하는 법
                        function fn1() {
                            
                        }
                        문서객체.onclick = fn1; // 이벤트 리스너(함수)의 이름만 등록

                        & 함수를 생성하고, onclick 속성에 해당 함수를 부여

                        (2) 익명 함수를 사용하는 법 ***
                        문서객체.onclick = function() {
                            (1) 하나의 이벤트 리스너
                        }

                2) 표준 이벤트 모델(addEventListener 방식)
                    - 하나의 이벤트는 여러개의 이벤트 리스너를 가질 수 있음
                    - 이벤트 등록 시 '이벤트 타입'을 사용
                    ex) 클릭 이벤트를 만들때, onclick를 쓰면 고전, click를 쓰면 표준

                    - 처리방식
                        (1) 선언적 함수를 사용하는 법
                        function fn1() {
                            
                        }
                        function fn2() {
                            
                        }
                        문서객체.addEventListener('click', fn1);
                        문서객체.addEventListener('click', fn2);
                        (호출시 전용 메서드 addEventListener(타입, 함수)를 사용해야한다)

                        & 함수를 생성하고, onclick 속성에 해당 함수를 부여

                        (2) 익명 함수를 사용하는 법 ***
                        문서객체.addEventListener('click', function() {

                        }); 
                  
                3) 인라인 이벤트 모델
                    - html 구성 요소에 이벤트 속성을 추가하고 이벤트 리스너를 등록
                    - 간단한 작업의 경우 이벤트 리스너를 생략하고(함수 생략) 본문만 작성할 수 있음
                    * 익명함수를 쓰지 않는다
                   
                    - 처리 방식
                         (1) 선언적 함수를 사용하는 법
                         <button onclick="fn1()" {} </button>
                        function fn1() {
                            
                        }
                        function fn2() {
                            
                        }
                                                
                        (호출시 전용 메서드 addEventListener(타입, 함수)를 사용해야한다)

                        & 함수를 생성하고, onclick 속성에 해당 함수를 부여

                        (2) 익명 함수를 사용하는 법 ***
                        <button onclick="function() {

                        }";

                        (3) 이벤트 리스너 생략
                        <button onclick="alert('안녕');"></button>
        */
     </script>

     <!-- 1. 고전 이벤트 모델 
    - 버튼을 클릭하면 함수 두개를 실행시키고 싶음
    - 고전 이벤트는 하나의 이벤트는 하나의 이벤트 리스너만 가질 수 있음
    - 해결책 : 여러개의 리스너를 사용하려면 별도의 함수를 생성해 묶어야한다
    -->
     <button id="btn1">클릭</button>
     <script>
        function fn1() {
            alert('Hello');
        }
        function fn2() {
            alert('안녕하세요');
        }
        // document.getElementById('btn1').onclick = fn1;
        // document.getElementById('btn2').onclick = fn2;
        // => 나중에 등록된 fn2가 덮어쓰기 되어 fn2만 실행된다

        // 고전이벤트는 복수의 함수가 한번에 사용될 수 있도록, 
        // 여러 이벤트 함수를 담은 별도의 함수를 만들어준다
        function fn3() {
            fn1();
            fn2();
        }
        // (1)선언함수를 이용한 방법
        document.getElementById('btn1').onclick = fn3;

        // (2) 익명함수를 이용한 방법
        document.getElementById('btn1').ondblclick = function() {
            fn3();
        }
        document.getElementById('btn1').onmouseover = () => {
            fn3();
        }
     </script>

     <!-- 2. 표준 이벤트 모델 -->
     <button id="btn2">클릭</button>
     <script>
        function fn1() {
            alert('Hello');
        }
        function fn2() {
            alert('안녕하세요');
        }
        
        // (1) 선언적 함수
        document.getElementById('btn2').addEventListener('mouseover', fn1);
        document.getElementById('btn2').addEventListener('mouseover', fn2);
        // => 표준 이벤트 모델은 여러 개의 이벤트 리스너를 등록할 수 있다
        // (덮여쓰이지않고 순서대로 작동)
        
        // & fn2를 먼저 쓰면 당연히 fn2가 먼저 실행된다

        // (2) 익명함수
        document.getElementById('btn2').addEventListener('mouseover', function() {
            fn1();
            fn2();
        })
     </script>

     <!-- 3. 인라인 이벤트 모델 
    => 인라인의 경우 익명함수를 쓰지 않는다
    -->
     <button id="btn2" onclick="fn3()" onmouseover="fn3()">클릭</button>
     <script>
        function fn1() {
            alert('Hello');
        }
        function fn2() {
            alert('안녕하세요');
        }
        function fn3() {
            fn1();
            fn2();
        }
    </script>


    <hr>

    <!-- 4. 이벤트 관련 용어  -->
    <button id="btn4">출력</button>
    <script>
        document.getElementById('btn4').onclick = function(event) {
            // 이벤트 타입 : click
            // 이벤트 속성 : onclick
            // 이벤트 대상 : btn4
            // 이벤트 대상 호출 방법
            // (1) event.target = this
            // (2) 이벤트 함수 내에서 this

            // 이벤트 리스너 : function(event) {}
            // 이벤트 객체 : event

            // & this : 함수, 또는 메서드에서 this를 메서드를 호출하는 객체를 의미한다
            console.log(event.target);
            // 여기서 이벤트의 대상은 <button id="btn4">출력</button>
            // 이벤트 대상은 btn 태그이므로, 그 텍스트 내용인 출력이 콘솔에 표시된다
            console.log(this.textContent);
            // => 동일한 의미
            event.target.textContent = '눌렀어?';
            this.textContent = '마마무';
            // 이전에 변경한 내용은 덮어씌어짐
        } 

        </script>
        <!-- // 5. load 이벤트
        // 스크립트가 위에 있고, 태그가 아래있는 방식 
        onload를 사용하면 태그가 아래있어도 이벤트가 사용가능해진다
    -->
        <script>
            onload = function() {
                document.getElementById('btn5').onclick = function(event) {
                    alert(event.target.textContent);    // 클릭
                }
            }
        </script>
        <button id="btn5">클릭</button>

        <!-- & window 
        - js의 최상위 객체
        - 생략가능(대부분 생략함)
        -document, alert, onload의 주인
        -->





    
</body>
</html>
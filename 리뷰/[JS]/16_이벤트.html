<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트</title>
</head>
<body>
    <script>
        /* 
            [이벤트]

            // & 정리
            1. 개념정리
            1) 이벤트 타입
            1) click
            2) dbclick
            3) mouseover    : 마우스를 가져다 대면 발생(=hover)
            4) mouseout     : 커서가 영역 밖으로 나오면
            5) keydown      : ?
            6) keyup        : ?
            7) focus        : 클릭하여 선택시 반응
            8) onload       : 문서 전체를 다 읽고난 후에 해당 함수를 실행
            => 즉, 요소가 함수보다 하단에 위치해도 코드 전체를 읽고 실행하기 때문에,
            요소를 함수와의 위치관계에 상관없이 실행시킬 수 있다

            2) 이벤트 리스너   : 함수
            3) 이벤트 대상   : 함수를 사용하는 해당 요소
            3) 이벤트 대상 호출 방법 : event.target 또는 this

            3) window 객체
            - 자바스크립트 최상위 객체
            - 대체로 생략해서 사용




            -------------------------------------------------------

            2. 이벤트 모델
            (1) 일반    .속성(on+타입)                      => 한개의 이벤트 함수만 담을수있음
            (2) 표준    .addEventListener('타입', 함수명)   => 복수의 이벤트 함수를 담을수있음
            (3) 인라인  <태그 속성=함수() ></태그> 

            & 선언함수들은 기본적으로 호출시 ()를 사용하지 않는다
            & 익명함수들은 function() {} 을 사용

            1. 이벤트 타입
            - 이벤트의 종류를 의미
            - 이벤트객체의 type 속성으로 확인가능?
            - 이벤트 종류
            (1) click       :클릭
            (1) dblclick    : 더블 클릭
            (1) load        : html 문서 모두 읽음
            (1) mouseover   : 마우스 가져다 댐
            (1) mouseout    : 마우스 나가면
            (1) keydown     : 키를 누르고 있을 때?
            (1) keyup       : 키 입력 직후?
            (1) focus       : 선택시, 포커스를 가짐
            (1) blur        : 선택해제시, 포커스를 잃음
            (1) submit      : 서브밋(form태그의 모든 입력요소를 서버로 보냄)

            -----------------------------------------------------------------

            2. 이벤트 대상
            - 이벤트가 동작하는 html 구성요소를 의미
            => 이벤트가 일어날 객체
            - 이벤트 객체의 target 속성으로 확인

            // & 함수 내 이벤트 대상확인 : event.target 또는 this

             -----------------------------------------------------------------
            
            3. 이벤트 리스너(이벤트 핸들러)
            - 이벤트가 발생했을 때 처리를 담당하는 함수
            - 선언함수, 익명함수 모두 리스너로 등록 가능
            - 이벤트 리스너의 매개변수에는 자동으로 이벤트 객체가 전달됨

             -----------------------------------------------------------------
            
            4. 이벤트 객체
            - 해당 이벤트의 상세정보를 저장한 객체
            - 이벤트 발생 시 자동으로 생성
            - 이벤트 발생 시 이벤트 리스너에 인수

             -----------------------------------------------------------------

            5. 이벤트 속성
            - 이벤트를 등록시키는 속성
            - 형태 : on + 이벤트타입

             -----------------------------------------------------------------

            6. 이벤트 모델
            1) 고전 이벤트 모델
            - 하나의 이벤트가 하나의 이벤트 리스너(함수)만 가질 수 있음
            - 이벤트 등록 시 이벤트 속성을 사용
            - 형태
            (1) 선언함수
                function fn1() {

                }
                문서객체.onclick = fn1; 

            (2) 익명함수
                문서객체.onclick = function () {}

            2) 표준 이벤트 모델 
            - 하나의 이벤트가 여러개의 이벤트 리스너를 가질 수 잇음
            - 이벤트 등록 시 이벤트 타입을 사용
            - 형태
            (1) 선언함수
                function fn1() {

                }
                function fn2() {

                }
                문서객체.addEventListener('click', fn1);    => & 메서드의 형태라 인수가 필요
                문서객체.addEventListener('click', fn2);
            (2) 익명함수
                문서객체.addEventListener('click', function() {

                });
            3) 인라인 이벤트 모델
            - html 요소에 직접 이벤트 속성을 추가해 이벤트 리스너 등록
            - 형태
            (1) 선언함수
                <button onclick="fn1()"></button>
                function fn1() {} 
            (2) 익명함수(잘 사용안한다)
                <button onclick=function() {

                }"></button>
            (3) 이벤트리스너 생략
                <button onclick="alert('안녕');"</button>

            -----------------------------------------------------------------       
        */
    </script>

    <!-- 실습 -->
    <!-- 1. 고전 이벤트 모델 -->
    <button id="btn1">클릭</button>
    <script>
        function fn1() {
            alert('hello');
        }
        document.getElementById('btn1').onclick = fn1;
        // & 고전 이벤트모델은 두개 이상의 함수(이벤트리스너)가 걸리지 않는다
    </script>

    <!-- 2. 표준 이벤트 모델 -->
    <button id="btn2">클릭</button>
    <script>
        function fn1() {
            alert('Hello');
        }
        function fn2() {
            alert('안녕하세요');
        }
        /* 표준 이벤트 모델은 여러 개의 이벤트 리스너를 등록할 수 있다! */
        document.getElementById('btn2').addEventListener('click', fn1);
        document.getElementById('btn2').addEventListener('click', fn2);

        document.getElementById('btn2').addEventListener('mouseout', function(){
            fn1();
            fn2();
        });
    </script>

    <!-- 3. 인라인 이벤트 모델 -->
    <button id="btn3" onclick="fn3()" onmouseover="fn3()">클릭</button>
    <script>
         function fn3() {
            fn1();
            fn2();
        }
    </script> 
    
    <!-- 4. 이벤트 관련 용어 -->
    <button id="btn4">클릭</button>
    <script>
        document.getElementById('btn4').onload = function(event) {
            // 이벤트 타입      : click
            // 이벤트 속성      : onclick
            // 이벤트 대상      : btn4(해당요소)
            // 이벤트 호출방법  : event.target 또는 this
            // 이벤트 리스너    : function(event) {}, 함수
            // 이벤트 객체      : event
            
            // 이벤트 대상 확인
            console.log(event.target.textContent);  // 이벤트 대상의 텍스트 = 클릭
            console.log(this.textContent);
            // & 이벤트 대상은 event.target 속성 또는 this를 사용한다

            // 이벤트 대상 변경
            // event.target.innerHTML = '<input type="text">';
            event.target.textContent = '눌렀어?';

            // & innerHTML은 자식요소를 생성, textContent는 해당 요소의 텍스트 내용을 수정
        }
    </script>

<!-- 5. load 이벤트 -->
<script>
    // window 객체
    // - js의 최상위객체
    // 생략가능(대부분 생략함)
    window.onload = function () {
        document.getElementById('btn5').onclick = function(event) {
            alert(event.target.textContent)
        }
    }
    
    </script>
    <button id="btn5">클릭</button>
    

    
</body>
</html>